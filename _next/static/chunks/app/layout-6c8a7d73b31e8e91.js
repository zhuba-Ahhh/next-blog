(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{78929:function(e,t,n){Promise.resolve().then(n.bind(n,2741)),Promise.resolve().then(n.bind(n,50986)),Promise.resolve().then(n.bind(n,30760)),Promise.resolve().then(n.bind(n,55882)),Promise.resolve().then(n.t.bind(n,64657,23))},30760:function(e,t,n){"use strict";n.d(t,{default:function(){return v}});var r=n(62842),o=n(36856),c=n(20440),a=n(55860);function l({children:e,features:t,strict:n=!1}){let[,l]=(0,o.useState)(!s(t)),i=(0,o.useRef)(void 0);if(!s(t)){let{renderer:e,...n}=t;i.current=e,(0,a.K)(n)}return(0,o.useEffect)(()=>{s(t)&&t().then(({renderer:e,...t})=>{(0,a.K)(t),i.current=e,l(!0)})},[]),(0,r.jsx)(c.u.Provider,{value:{renderer:i.current,strict:n},children:e})}function s(e){return"function"==typeof e}var i=n(87091),u=n(76920);let d={renderer:n(46996).b,...i.s,...u.E};var m=n(41303),h=n(75414),f=n(31979);let p={initial:{opacity:0,x:"-100%"},in:{opacity:1,x:0}};function v(e){let{children:t}=e,n=(0,f.usePathname)();return(0,r.jsx)(l,{features:d,children:(0,r.jsx)(m.M,{mode:"wait",children:(0,r.jsx)(h.E.main,{initial:"initial",animate:"in",exit:"out",variants:p,className:"flex-grow container mx-auto px-4",children:t},n)})})}},55882:function(e,t,n){"use strict";n.d(t,{default:function(){return m}});var r=n(62842),o=n(36856),c=n(50986),a=n(31979),l=n(88040);let s=()=>(0,r.jsx)("svg",{viewBox:"0 0 1024 1024",className:"w-5 h-5",children:(0,r.jsx)("path",{d:"M608.256 201.728c12.8 5.632 24.576 11.776 36.352 18.432-11.776-7.168-23.552-13.312-36.352-18.432z m72.704 43.008c10.24 7.68 19.968 16.384 29.184 25.088-9.216-9.216-18.944-17.408-29.184-25.088z m120.832 352.768c-4.096 16.384-9.728 32.256-16.384 47.616 6.656-15.36 12.288-31.232 16.384-47.616z m-440.32-160.768c0-120.832 81.408-222.208 193.024-252.928-5.632-1.536-11.776-2.56-17.408-3.584-1.536-0.512-3.584-0.512-5.12-1.024l-10.752-1.536c-3.072-0.512-6.144-1.024-9.216-1.024-2.048 0-3.584-0.512-5.632-0.512-4.608-0.512-9.216-1.024-13.824-1.024h-3.584c-5.12 0-10.24-0.512-15.36-0.512-186.88 0-338.432 151.04-338.432 337.92 0 186.368 151.552 337.92 338.432 337.92 5.12 0 10.24 0 15.872-0.512 1.536 0 3.072 0 4.608-0.512 4.096 0 7.68-0.512 11.264-1.024 1.536 0 3.072-0.512 4.608-0.512 5.12-0.512 10.24-1.024 15.36-2.048h0.512c4.608-0.512 9.728-1.536 14.336-2.56 1.536-0.512 3.072-0.512 4.608-1.024 3.584-1.024 7.168-1.536 10.752-2.56 1.536-0.512 3.072-0.512 4.608-1.024 4.608-1.024 9.728-2.56 14.336-4.096 0.512 0 1.024-0.512 1.536-0.512 4.096-1.536 8.192-2.56 12.288-4.096l4.608-1.536c3.072-1.024 6.656-2.56 9.728-3.584 1.536-0.512 3.072-1.024 4.608-2.048 4.608-2.048 8.704-3.584 13.312-6.144 1.024-0.512 1.536-1.024 2.56-1.024 3.584-1.536 7.168-3.584 10.752-5.632 1.536-1.024 3.072-1.536 4.608-2.56 3.072-1.536 5.632-3.072 8.192-4.608 1.536-1.024 3.072-1.536 4.608-2.56 4.096-2.56 7.68-5.12 11.776-7.68 1.024-0.512 2.048-1.536 3.072-2.048 3.072-2.048 5.632-4.096 8.704-6.144 1.536-1.024 3.072-2.56 4.608-3.584 2.56-2.048 4.608-3.584 7.168-5.632 1.536-1.024 3.072-2.56 4.608-3.584 3.584-3.072 6.656-5.632 10.24-8.704 1.536-1.024 2.56-2.56 4.096-3.584 2.048-2.048 4.608-4.096 6.656-6.144l4.608-4.608c2.048-2.048 3.584-4.096 5.632-6.144 1.536-1.536 3.072-3.072 4.096-4.608 2.56-3.072 5.12-6.144 8.192-9.216 1.536-1.536 3.072-3.584 4.608-5.632 1.536-2.048 3.584-4.096 5.12-6.656 1.536-2.048 2.56-3.584 4.096-5.632l4.608-6.144c1.536-2.048 2.56-3.584 4.096-5.632 2.048-3.072 4.096-6.656 6.144-9.728 1.536-2.048 2.56-4.608 4.096-6.656 1.536-2.048 2.56-4.608 4.096-6.656 1.024-2.048 2.048-4.096 3.584-6.144 1.024-2.048 2.048-4.608 3.584-6.656l3.072-6.144c2.048-4.096 3.584-7.68 5.12-11.776-44.544 34.304-100.352 54.784-160.768 54.784-146.432-0.512-264.704-117.76-264.704-263.168z m276.48-92.16l-88.064 16.384 61.44 64-11.264 87.04 81.408-37.376L762.88 512l-11.264-87.04 61.44-64-88.064-16.384-43.52-76.8-43.52 76.8z",fill:"currentColor"})}),i=()=>(0,r.jsx)("svg",{viewBox:"0 0 1024 1024",className:"w-5 h-5",children:(0,r.jsx)("path",{d:"M876.544 502.784l-100.352-99.84V260.608c0-7.168-5.632-12.8-12.8-12.8h-142.848l-100.352-99.84c-5.12-5.12-13.312-5.12-18.432 0L401.92 247.808H260.608c-7.168 0-12.8 5.632-12.8 12.8v141.312L147.456 502.784c-5.12 5.12-5.12 13.312 0 18.432l100.352 99.84v142.336c0 7.168 5.632 12.8 12.8 12.8h141.312l100.864 100.864c5.12 5.12 13.312 5.12 18.432 0l100.864-100.864h142.336c7.168 0 12.8-5.632 12.8-12.8v-142.336l99.84-99.84c4.608-5.12 4.608-13.312-0.512-18.432zM511.488 742.4c-127.488 0-230.4-102.912-230.4-230.4 0-126.976 103.424-230.4 230.4-230.4 127.488 0 230.4 102.912 230.4 230.4 0 126.976-102.912 230.4-230.4 230.4z m0-414.72c-101.888 0-184.32 82.432-184.32 184.32s82.432 184.32 184.32 184.32 184.32-82.432 184.32-184.32-82.432-184.32-184.32-184.32z",fill:"currentColor"})});var u=function(){let[e,t]=(0,o.useState)(!1),{theme:n,setTheme:c}=(0,l.O)(),[a,u]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{t(!0);let e=()=>{let e=new Date().getHours(),t=localStorage.getItem("themeOverride");if(t){let{theme:e,timestamp:n}=JSON.parse(t),r=new Date(n),o=new Date;if(r.toDateString()===o.toDateString()){c(e),u(!0);return}localStorage.removeItem("themeOverride")}e>=20||e<8?c("dark"):c("light"),u(!1)};e();let n=setInterval(e,6e4);return()=>clearInterval(n)},[c]),e)?(0,r.jsx)("button",{className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",onClick:()=>{let e="dark"===n?"light":"dark";c(e),u(!0),localStorage.setItem("themeOverride",JSON.stringify({theme:e,timestamp:new Date().toISOString()}))},"aria-label":"dark"===n?"切换到亮色模式":"切换到暗色模式",children:"dark"===n?(0,r.jsx)(i,{}):(0,r.jsx)(s,{})}):null};let d=[{href:"/",label:"首页"},{href:"/blog",label:"博客"},{href:"/about",label:"关于"}];function m(){let e=(0,a.usePathname)();return(0,r.jsx)("header",{className:"sticky top-0 z-50 w-full border-b border-border/40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,r.jsxs)("div",{className:"container flex h-14 max-w-screen-2xl items-center",children:[(0,r.jsx)(c.Link,{href:"/",className:"mr-6 flex items-center space-x-2",children:(0,r.jsx)("span",{className:"font-bold",children:"我的博客"})}),(0,r.jsx)("nav",{className:"flex items-center space-x-6 text-sm font-medium",children:d.map(t=>(0,r.jsx)(c.Link,{href:t.href,className:"transition-colors hover:text-foreground/80 ".concat(e===t.href?"text-foreground":"text-foreground/60"),"aria-current":e===t.href?"page":void 0,children:t.label},t.href))}),(0,r.jsx)("div",{className:"flex flex-1 items-center justify-end space-x-4",children:(0,r.jsx)("nav",{className:"flex items-center space-x-2",children:(0,r.jsx)(u,{})})})]})})}},88040:function(e,t,n){"use strict";n.d(t,{O:function(){return o}});var r=n(2741);function o(){let{theme:e,setTheme:t}=(0,r.F)();return{theme:e,setTheme:t}}},64657:function(){},41303:function(e,t,n){"use strict";n.d(t,{M:function(){return x}});var r=n(62842),o=n(36856),c=n(68078),a=n(49759),l=n(19098);class s extends o.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function i({children:e,isPresent:t}){let n=(0,o.useId)(),c=(0,o.useRef)(null),a=(0,o.useRef)({width:0,height:0,top:0,left:0}),{nonce:i}=(0,o.useContext)(l._);return(0,o.useInsertionEffect)(()=>{let{width:e,height:r,top:o,left:l}=a.current;if(t||!c.current||!e||!r)return;c.current.dataset.motionPopId=n;let s=document.createElement("style");return i&&(s.nonce=i),document.head.appendChild(s),s.sheet&&s.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${r}px !important;
            top: ${o}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(s)}},[t]),(0,r.jsx)(s,{isPresent:t,childRef:c,sizeRef:a,children:o.cloneElement(e,{ref:c})})}let u=({children:e,initial:t,isPresent:n,onExitComplete:l,custom:s,presenceAffectsLayout:u,mode:m})=>{let h=(0,a.h)(d),f=(0,o.useId)(),p=(0,o.useMemo)(()=>({id:f,initial:t,isPresent:n,custom:s,onExitComplete:e=>{for(let t of(h.set(e,!0),h.values()))if(!t)return;l&&l()},register:e=>(h.set(e,!1),()=>h.delete(e))}),u?[Math.random()]:[n]);return(0,o.useMemo)(()=>{h.forEach((e,t)=>h.set(t,!1))},[n]),o.useEffect(()=>{n||h.size||!l||l()},[n]),"popLayout"===m&&(e=(0,r.jsx)(i,{isPresent:n,children:e})),(0,r.jsx)(c.O.Provider,{value:p,children:e})};function d(){return new Map}var m=n(10235),h=n(61145);let f=e=>e.key||"";function p(e){let t=[];return o.Children.forEach(e,e=>{(0,o.isValidElement)(e)&&t.push(e)}),t}var v=n(35503);let x=({children:e,exitBeforeEnter:t,custom:n,initial:c=!0,onExitComplete:l,presenceAffectsLayout:s=!0,mode:i="sync"})=>{(0,h.k)(!t,"Replace exitBeforeEnter with mode='wait'");let d=(0,o.useMemo)(()=>p(e),[e]),x=d.map(f),g=(0,o.useRef)(!0),b=(0,o.useRef)(d),y=(0,a.h)(()=>new Map),[w,S]=(0,o.useState)(d),[k,E]=(0,o.useState)(d);(0,v.L)(()=>{g.current=!1,b.current=d;for(let e=0;e<k.length;e++){let t=f(k[e]);x.includes(t)?y.delete(t):!0!==y.get(t)&&y.set(t,!1)}},[k,x.length,x.join("-")]);let j=[];if(d!==w){let e=[...d];for(let t=0;t<k.length;t++){let n=k[t],r=f(n);x.includes(r)||(e.splice(t,0,n),j.push(n))}"wait"===i&&j.length&&(e=j),E(p(e)),S(d);return}let{forceRender:C}=(0,o.useContext)(m.p);return(0,r.jsx)(r.Fragment,{children:k.map(e=>{let t=f(e),o=d===k||x.includes(t);return(0,r.jsx)(u,{isPresent:o,initial:(!g.current||!!c)&&void 0,custom:o?void 0:n,presenceAffectsLayout:s,mode:i,onExitComplete:o?void 0:()=>{if(!y.has(t))return;y.set(t,!0);let e=!0;y.forEach(t=>{t||(e=!1)}),e&&(null==C||C(),E(b.current),l&&l())},children:e},t)})})}},2741:function(e,t,n){"use strict";n.d(t,{F:function(){return i},ThemeProvider:function(){return u}});var r=n(36856),o=["light","dark"],c="(prefers-color-scheme: dark)",a="undefined"==typeof window,l=r.createContext(void 0),s={setTheme:e=>{},themes:[]},i=()=>{var e;return null!=(e=r.useContext(l))?e:s},u=e=>r.useContext(l)?e.children:r.createElement(m,{...e}),d=["light","dark"],m=e=>{let{forcedTheme:t,disableTransitionOnChange:n=!1,enableSystem:a=!0,enableColorScheme:s=!0,storageKey:i="theme",themes:u=d,defaultTheme:m=a?"system":"light",attribute:x="data-theme",value:g,children:b,nonce:y}=e,[w,S]=r.useState(()=>f(i,m)),[k,E]=r.useState(()=>f(i)),j=g?Object.values(g):u,C=r.useCallback(e=>{let t=e;if(!t)return;"system"===e&&a&&(t=v());let r=g?g[t]:t,c=n?p():null,l=document.documentElement;if("class"===x?(l.classList.remove(...j),r&&l.classList.add(r)):r?l.setAttribute(x,r):l.removeAttribute(x),s){let e=o.includes(m)?m:null,n=o.includes(t)?t:e;l.style.colorScheme=n}null==c||c()},[]),N=r.useCallback(e=>{let t="function"==typeof e?e(e):e;S(t);try{localStorage.setItem(i,t)}catch(e){}},[t]),T=r.useCallback(e=>{E(v(e)),"system"===w&&a&&!t&&C("system")},[w,t]);r.useEffect(()=>{let e=window.matchMedia(c);return e.addListener(T),T(e),()=>e.removeListener(T)},[T]),r.useEffect(()=>{let e=e=>{e.key===i&&N(e.newValue||m)};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[N]),r.useEffect(()=>{C(null!=t?t:w)},[t,w]);let L=r.useMemo(()=>({theme:w,setTheme:N,forcedTheme:t,resolvedTheme:"system"===w?k:w,themes:a?[...u,"system"]:u,systemTheme:a?k:void 0}),[w,N,t,k,a,u]);return r.createElement(l.Provider,{value:L},r.createElement(h,{forcedTheme:t,disableTransitionOnChange:n,enableSystem:a,enableColorScheme:s,storageKey:i,themes:u,defaultTheme:m,attribute:x,value:g,children:b,attrs:j,nonce:y}),b)},h=r.memo(e=>{let{forcedTheme:t,storageKey:n,attribute:a,enableSystem:l,enableColorScheme:s,defaultTheme:i,value:u,attrs:d,nonce:m}=e,h="system"===i,f="class"===a?"var d=document.documentElement,c=d.classList;".concat("c.remove(".concat(d.map(e=>"'".concat(e,"'")).join(","),")"),";"):"var d=document.documentElement,n='".concat(a,"',s='setAttribute';"),p=s?(o.includes(i)?i:null)?"if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'".concat(i,"'"):"if(e==='light'||e==='dark')d.style.colorScheme=e":"",v=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],r=u?u[e]:e,c=t?e+"|| ''":"'".concat(r,"'"),l="";return s&&n&&!t&&o.includes(e)&&(l+="d.style.colorScheme = '".concat(e,"';")),"class"===a?t||r?l+="c.add(".concat(c,")"):l+="null":r&&(l+="d[s](n,".concat(c,")")),l},x=t?"!function(){".concat(f).concat(v(t),"}()"):l?"!function(){try{".concat(f,"var e=localStorage.getItem('").concat(n,"');if('system'===e||(!e&&").concat(h,")){var t='").concat(c,"',m=window.matchMedia(t);if(m.media!==t||m.matches){").concat(v("dark"),"}else{").concat(v("light"),"}}else if(e){").concat(u?"var x=".concat(JSON.stringify(u),";"):"").concat(v(u?"x[e]":"e",!0),"}").concat(h?"":"else{"+v(i,!1,!1)+"}").concat(p,"}catch(e){}}()"):"!function(){try{".concat(f,"var e=localStorage.getItem('").concat(n,"');if(e){").concat(u?"var x=".concat(JSON.stringify(u),";"):"").concat(v(u?"x[e]":"e",!0),"}else{").concat(v(i,!1,!1),";}").concat(p,"}catch(t){}}();");return r.createElement("script",{nonce:m,dangerouslySetInnerHTML:{__html:x}})}),f=(e,t)=>{let n;if(!a){try{n=localStorage.getItem(e)||void 0}catch(e){}return n||t}},p=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},v=e=>(e||(e=window.matchMedia(c)),e.matches?"dark":"light")}},function(e){e.O(0,[693,170,694,310,666,619,386,322,949,785,744],function(){return e(e.s=78929)}),_N_E=e.O()}]);
//# sourceMappingURL=layout-6c8a7d73b31e8e91.js.map