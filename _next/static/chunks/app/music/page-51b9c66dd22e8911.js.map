{"version":3,"file":"static/chunks/app/music/page-51b9c66dd22e8911.js","mappings":"qFAAAA,QAAAC,OAAA,GAAAC,IAAA,CAAAC,EAAAC,CAAA,CAAAC,IAAA,CAAAF,EAAA,WAEAH,QAAAC,OAAA,GAAAC,IAAA,CAAAC,EAAAE,IAAA,CAAAF,EAAA,uFCoEAG,CAAAA,EAAA,QAjEuC,KACrC,IAAMC,EAAqBC,CAAAA,EAAAA,EAAAA,MAAAA,EAAuB,MAyDlD,MAvDAC,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,KAER,GAAI,CAACF,EAAmBG,OAAO,CAAE,OAGjC,IAAMC,EAAiBJ,EAAmBG,OAAO,CAACE,aAAa,CAAC,aAChE,GAAID,EAAgB,CAElB,GAAI,CACF,IAAME,EAAkBF,EAAwBG,OAAO,CACnDD,GAAmB,mBAAOA,EAAgBE,OAAO,EACnDF,EAAgBE,OAAO,EAE3B,CAAE,MAAOC,EAAO,CACdC,QAAQC,IAAI,CAAC,oCAAqCF,EACpD,CACAT,EAAmBG,OAAO,CAACS,WAAW,CAACR,EACzC,CAGA,IAAMS,EAAgBC,SAASC,aAAa,CAAC,aAgB7C,OAfAF,EAAcG,YAAY,CAAC,SAAU,WACrCH,EAAcG,YAAY,CAAC,OAAQ,YACnCH,EAAcG,YAAY,CAAC,KAAM,cACjCH,EAAcG,YAAY,CAAC,QAAS,WACpCH,EAAcG,YAAY,CAAC,OAAQ,OACnCH,EAAcG,YAAY,CAAC,QAAS,UACpCH,EAAcG,YAAY,CAAC,UAAW,QACtCH,EAAcG,YAAY,CAAC,cAAe,SAC1CH,EAAcG,YAAY,CAAC,kBAAmB,SAC9CH,EAAcG,YAAY,CAAC,WAAY,KACvCH,EAAcG,YAAY,CAAC,QAAS,QAEpChB,EAAmBG,OAAO,CAACc,WAAW,CAACJ,GAGhC,KACL,GAAIb,EAAmBG,OAAO,CAAE,CAC9B,IAAMe,EAASlB,EAAmBG,OAAO,CAACE,aAAa,CAAC,aACxD,GAAIa,EAAQ,CAEV,GAAI,CACF,IAAMZ,EAAkBY,EAAgBX,OAAO,CAC3CD,GAAmB,mBAAOA,EAAgBE,OAAO,EACnDF,EAAgBE,OAAO,EAE3B,CAAE,MAAOC,EAAO,CACdC,QAAQC,IAAI,CAAC,sCAAuCF,EACtD,CACAT,EAAmBG,OAAO,CAACS,WAAW,CAACM,EACzC,CACF,CACF,CACF,EAAG,EAAE,EAGH,GAAAC,EAAAC,GAAA,EAACC,MAAAA,CAAIC,UAAWC,IAAAA,gBAAAA,UACd,GAAAJ,EAAAC,GAAA,EAACC,MAAAA,CAAIG,IAAKxB,KAGhB,qBCnEAyB,EAAAC,OAAA,EAAkB","sources":["webpack://_N_E/?fa50","webpack://_N_E/./src/app/music/MusicClientComponent.tsx","webpack://_N_E/./src/app/music/music.module.css"],"sourcesContent":["import(/* webpackMode: \"eager\" */ \"/home/runner/work/next-blog/next-blog/src/app/music/music.module.css\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"default\"] */ \"/home/runner/work/next-blog/next-blog/src/app/music/MusicClientComponent.tsx\");\n","'use client';\n\nimport React, { useEffect, useRef } from 'react';\nimport styles from './music.module.css';\n\nconst MusicClientComponent: React.FC = () => {\n  const metingContainerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    // 由于脚本已在layout.tsx中预加载，直接创建meting-js元素\n    if (!metingContainerRef.current) return;\n\n    // 清理之前的播放器（如果存在）\n    const existingPlayer = metingContainerRef.current.querySelector('meting-js');\n    if (existingPlayer) {\n      // 安全地检查并销毁APlayer实例\n      try {\n        const apLayerInstance = (existingPlayer as any).aplayer;\n        if (apLayerInstance && typeof apLayerInstance.destroy === 'function') {\n          apLayerInstance.destroy();\n        }\n      } catch (error) {\n        console.warn('Error destroying existing player:', error);\n      }\n      metingContainerRef.current.removeChild(existingPlayer);\n    }\n\n    // 创建新的meting-js元素\n    const metingElement = document.createElement('meting-js');\n    metingElement.setAttribute('server', 'tencent');\n    metingElement.setAttribute('type', 'playlist');\n    metingElement.setAttribute('id', '9608551232');\n    metingElement.setAttribute('theme', '#FADFA3');\n    metingElement.setAttribute('loop', 'all');\n    metingElement.setAttribute('order', 'random');\n    metingElement.setAttribute('preload', 'auto');\n    metingElement.setAttribute('list-folded', 'false');\n    metingElement.setAttribute('list-max-height', '250px');\n    metingElement.setAttribute('lrc-type', '3');\n    metingElement.setAttribute('mutex', 'true');\n\n    metingContainerRef.current.appendChild(metingElement);\n\n    // 组件卸载时的清理工作\n    return () => {\n      if (metingContainerRef.current) {\n        const player = metingContainerRef.current.querySelector('meting-js');\n        if (player) {\n          // 安全地检查并销毁APlayer实例\n          try {\n            const apLayerInstance = (player as any).aplayer;\n            if (apLayerInstance && typeof apLayerInstance.destroy === 'function') {\n              apLayerInstance.destroy();\n            }\n          } catch (error) {\n            console.warn('Error destroying player on unmount:', error);\n          }\n          metingContainerRef.current.removeChild(player);\n        }\n      }\n    };\n  }, []); // 只需在组件挂载时执行一次\n\n  return (\n    <div className={styles.aplayerContainer}>\n      <div ref={metingContainerRef}></div>\n    </div>\n  );\n};\n\nexport default MusicClientComponent;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"music_container__GVLnG\",\"title\":\"music_title__sKtLM\",\"description\":\"music_description__MFqnK\",\"aplayerContainer\":\"music_aplayerContainer__xylEq\",\"aplayer\":\"music_aplayer__hel6A\",\"aplayer-withlist\":\"music_aplayer-withlist__P0aee\",\"aplayer-info\":\"music_aplayer-info__csJ9J\",\"aplayer-music\":\"music_aplayer-music__rNkxC\",\"aplayer-author\":\"music_aplayer-author__GxTiU\",\"aplayer-controller\":\"music_aplayer-controller__vC1uc\",\"aplayer-time\":\"music_aplayer-time__N_gHY\",\"aplayer-bar-wrap\":\"music_aplayer-bar-wrap__mOaLm\",\"aplayer-bar\":\"music_aplayer-bar__Rkis_\",\"aplayer-loaded\":\"music_aplayer-loaded__vYpN3\",\"aplayer-played\":\"music_aplayer-played__hmag_\",\"aplayer-thumb\":\"music_aplayer-thumb__BzWjh\",\"aplayer-icon\":\"music_aplayer-icon__rbAKe\",\"aplayer-list\":\"music_aplayer-list__KGwVe\",\"aplayer-list-light\":\"music_aplayer-list-light__HjqoK\",\"aplayer-lrc\":\"music_aplayer-lrc___KBS7\",\"aplayer-lrc-current\":\"music_aplayer-lrc-current__MlfCf\",\"aplayer-title\":\"music_aplayer-title__XY5UA\",\"dark\":\"music_dark__mhXry\",\"pulse\":\"music_pulse__BtZan\"};"],"names":["Promise","resolve","then","__webpack_require__","t","bind","__webpack_exports__","metingContainerRef","useRef","useEffect","current","existingPlayer","querySelector","apLayerInstance","aplayer","destroy","error","console","warn","removeChild","metingElement","document","createElement","setAttribute","appendChild","player","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsx","div","className","styles","ref","module","exports"],"sourceRoot":""}